import { createClient } from \"@supabase/supabase-js\";\nimport { NextResponse } from \"next/server\";\nimport type { NextRequest } from \"next/server\";\n\nexport async function POST(request: NextRequest) {\n    try {\n        const { userId } = await request.json();\n        if (!userId) {\n            return NextResponse.json(\n                { error: \"ID de usuário não informado\" },\n                { status: 400 }\n            );\n        }\n        const supabase = createClient(\n            process.env.NEXT_PUBLIC_SUPABASE_URL!,\n            process.env.SUPABASE_SERVICE_ROLE_KEY!\n        );\n        const { error } = await supabase.auth.admin.deleteUser(userId);\n        if (error) {\n            console.error(\"Erro ao excluir usuário da autenticação:\", error);\n            return NextResponse.json({ error: error.message }, { status: 500 });\n        }\n        return NextResponse.json({\n            success: true,\n            message: \"Usuário excluído com sucesso\",\n        });\n    } catch (error) {\n        console.error(\"Erro no servidor:\", error);\n        return NextResponse.json(\n            { error: \"Erro interno do servidor\" },\n            { status: 500 }\n        );\n    }\n}\n
